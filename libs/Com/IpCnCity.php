<?php
class Com_IpCnCity
{
	
	/**
	 * 通过地址获取城市ID
	 *
	 */
	function getCodeByAddr($addr,$provinceCode)
	{
		$city = $this->getCity();
		if (empty($addr)||empty($provinceCode)) {return false;}
		if (empty($city[$provinceCode])) {return false;}
		foreach ($city[$provinceCode] as $key => $val){
			if (false !== stristr($addr,$val)) {
				return $key;
			}
		}
		
	}
	
	/**
	 * 获取省份代码
	 *
	 * @return unknown
	 */
	function getCity()
	{		
		return array(
		    "13" => array
		        (
		            "1301" => "石家庄",
		            "1302" => "唐山",
		            "1303" => "秦皇岛",
		            "1304" => "邯郸",
		            "1305" => "邢台",
		            "1306" => "保定",
		            "1307" => "张家口",
		            "1308" => "承德",
		            "1309" => "沧州",
		            "1311" => "衡水",
		        ),
		
		    "14" => array(
		            "1401" => "太原",
		            "1402" => "大同",
		            "1403" => "阳泉",
		            "1404" => "长治",
		            "1405" => "晋城",
		            "1406" => "朔州",
		            "1407" => "晋中",
		            "1408" => "运城",
		            "1409" => "忻州",
		            "1411" => "吕梁",
		        ),
		
		    "15" => array(
		            "1501" => "呼和浩特",
		            "1502" => "包头",
		            "1503" => "乌海",
		            "1504" => "赤峰",
		            "1505" => "通辽",
		            "1506" => "鄂尔多斯",
		            "1507" => "呼伦贝尔",
		            "1508" => "巴彦淖尔",
		            "1509" => "乌兰察布",
		            "1522" => "兴安盟",
		            "1525" => "锡林郭勒盟",
		            "1529" => "阿拉善盟",
		        ),
		
		    "21" => array(
		            "2101" => "沈阳",
		            "2102" => "大连",
		            "2103" => "鞍山",
		            "2104" => "抚顺",
		            "2105" => "本溪",
		            "2106" => "丹东",
		            "2107" => "锦州",
		            "2108" => "营口",
		            "2109" => "阜新",
		            "2111" => "盘锦",
		            "2112" => "铁岭",
		            "2113" => "朝阳",
		            "2114" => "葫芦岛",
		        ),
		
		    "22" => array(
		            "2201" => "长春",
		            "2202" => "吉林",
		            "2203" => "四平",
		            "2204" => "辽源",
		            "2205" => "通化",
		            "2206" => "白山",
		            "2207" => "松原",
		            "2208" => "白城",
		            "2224" => "延边",
		        ),
		
		    "23" => array (
		            "2301" => "哈尔滨",
		            "2302" => "齐齐哈尔",
		            "2303" => "鸡西",
		            "2304" => "鹤岗",
		            "2305" => "双鸭山",
		            "2306" => "大庆",
		            "2307" => "伊春",
		            "2308" => "佳木斯",
		            "2309" => "七台河",
		            "2311" => "黑河",
		            "2312" => "绥化",
		            "2327" => "大兴安岭",
		        ),
		
		    "32" => array (
		            "3201" => "南京",
		            "3202" => "无锡",
		            "3203" => "徐州",
		            "3204" => "常州",
		            "3205" => "苏州",
		            "3206" => "南通",
		            "3207" => "连云港",
		            "3208" => "淮安",
		            "3209" => "盐城",
		            "3211" => "镇江",
		            "3212" => "泰州",
		            "3213" => "宿迁",
		        ),
		
		    "33" => array (
		            "3301" => "杭州",
		            "3302" => "宁波",
		            "3303" => "温州",
		            "3304" => "嘉兴",
		            "3305" => "湖州",
		            "3306" => "绍兴",
		            "3307" => "金华",
		            "3308" => "衢州",
		            "3309" => "舟山",
		            "3311" => "丽水",
		        ),
		
		    "34" => array(
		            "3401" => "合肥",
		            "3402" => "芜湖",
		            "3403" => "蚌埠",
		            "3404" => "淮南",
		            "3405" => "马鞍山",
		            "3406" => "淮北",
		            "3407" => "铜陵",
		            "3408" => "安庆",
		            "3411" => "滁州",
		            "3412" => "阜阳",
		            "3413" => "宿州",
		            "3415" => "六安",
		            "3416" => "亳州",
		            "3417" => "池州",
		            "3418" => "宣城",
		        ),
		
		    "35" => array(
		            "3501" => "福州",
		            "3502" => "厦门",
		            "3503" => "莆田",
		            "3504" => "三明",
		            "3505" => "泉州",
		            "3506" => "漳州",
		            "3507" => "南平",
		            "3508" => "龙岩",
		            "3509" => "宁德",
		        ),
		
		    "36" => array (
		            "3601" => "南昌",
		            "3602" => "景德镇",
		            "3603" => "萍乡",
		            "3604" => "九江",
		            "3605" => "新余",
		            "3606" => "鹰潭",
		            "3607" => "赣州",
		            "3608" => "吉安",
		            "3609" => "宜春",
		            "3611" => "上饶",
		        ),
		
		    "37" => array (
		            "3701" => "济南",
		            "3702" => "青岛",
		            "3703" => "淄博",
		            "3704" => "枣庄",
		            "3705" => "东营",
		            "3706" => "烟台",
		            "3707" => "潍坊",
		            "3708" => "济宁",
		            "3709" => "泰安",
		            "3711" => "日照",
		            "3712" => "莱芜",
		            "3713" => "临沂",
		            "3714" => "德州",
		            "3715" => "聊城",
		            "3716" => "滨州",
		            "3717" => "菏泽",
		        ),
		
		    "41" => array  (
		            "4101" => "郑州",
		            "4102" => "开封",
		            "4103" => "洛阳",
		            "4104" => "平顶山",
		            "4105" => "安阳",
		            "4106" => "鹤壁",
		            "4107" => "新乡",
		            "4108" => "焦作",
		            "4109" => "濮阳",
		            "4111" => "漯河",
		            "4112" => "三门峡",
		            "4113" => "南阳",
		            "4114" => "商丘",
		            "4115" => "信阳",
		            "4116" => "周口",
		            "4117" => "驻马店",
		        ),
		
		    "42" => array (
		            "4201" => "武汉",
		            "4202" => "黄石",
		            "4203" => "十堰",
		            "4205" => "宜昌",
		            "4206" => "襄阳",
		            "4207" => "鄂州",
		            "4208" => "荆门",
		            "4209" => "孝感",
		            "4211" => "黄冈",
		            "4212" => "咸宁",
		            "4213" => "随州",
		            "4228" => "恩施",
		        ),
		
		    "43" => array
		        (
		            "4301" => "长沙",
		            "4302" => "株洲",
		            "4303" => "湘潭",
		            "4304" => "衡阳",
		            "4305" => "邵阳",
		            "4306" => "岳阳",
		            "4307" => "常德",
		            "4308" => "张家界",
		            "4309" => "益阳",
		            "4311" => "永州",
		            "4312" => "怀化",
		            "4313" => "娄底",
		            "4331" => "湘西",
		        ),
		
		    "44" => array(
		            "4401" => "广州",
		            "4402" => "韶关",
		            "4403" => "深圳",
		            "4404" => "珠海",
		            "4405" => "汕头",
		            "4406" => "佛山",
		            "4407" => "江门",
		            "4408" => "湛江",
		            "4409" => "茂名",
		            "4412" => "肇庆",
		            "4413" => "惠州",
		            "4414" => "梅州",
		            "4415" => "汕尾",
		            "4416" => "河源",
		            "4417" => "阳江",
		            "4418" => "清远",
		            "4419" => "东莞",
		            "4451" => "潮州",
		            "4452" => "揭阳",
		            "4453" => "云浮",
		        ),
		
		    "45" => array (
		            "4501" => "南宁",
		            "4502" => "柳州",
		            "4503" => "桂林",
		            "4504" => "梧州",
		            "4505" => "北海",
		            "4506" => "防城港",
		            "4507" => "钦州",
		            "4508" => "贵港",
		            "4509" => "玉林",
		            "4511" => "贺州",
		            "4512" => "河池",
		            "4513" => "来宾",
		            "4514" => "崇左",
		        ),
		
		    "46" => array (
		            "4601" => "海口",
		            "4602" => "三亚",
		        ),
		
		    "51" => array (
		            "5101" => "成都",
		            "5103" => "自贡",
		            "5104" => "攀枝花",
		            "5105" => "泸州",
		            "5106" => "德阳",
		            "5107" => "绵阳",
		            "5108" => "广元",
		            "5109" => "遂宁",
		            "5111" => "乐山",
		            "5113" => "南充",
		            "5114" => "眉山",
		            "5115" => "宜宾",
		            "5116" => "广安",
		            "5117" => "达州",
		            "5118" => "雅安",
		            "5119" => "巴中",
		            "5132" => "阿坝",
		            "5133" => "甘孜",
		            "5134" => "凉山",
		        ),
		
		    "52" => array (
		            "5201" => "贵阳",
		            "5202" => "六盘水",
		            "5203" => "遵义",
		            "5204" => "安顺",
		            "5205" => "毕节",
		            "5206" => "铜仁",
		            "5223" => "黔西南",
		            "5226" => "黔东南",
		            "5227" => "黔南布",
		        ),
		
		    "53" => array(
		            "5301" => "昆明",
		            "5303" => "曲靖",
		            "5304" => "玉溪",
		            "5305" => "保山",
		            "5306" => "昭通",
		            "5307" => "丽江",
		            "5308" => "普洱",
		            "5309" => "临沧",
		            "5323" => "楚雄",
		            "5325" => "红河",
		            "5326" => "文山",
		            "5328" => "西双版纳",
		            "5329" => "大理",
		            "5331" => "德宏",
		            "5333" => "怒江",
		            "5334" => "迪庆",
		        ),
		
		    "54" => array (
		            "5401" => "拉萨",
		            "5421" => "昌都",
		            "5422" => "山南",
		            "5423" => "日喀则",
		            "5424" => "那曲",
		            "5425" => "阿里",
		            "5426" => "林芝",
		        ),
		
		    "61" => array (
		            "6101" => "西安",
		            "6102" => "铜川",
		            "6103" => "宝鸡",
		            "6104" => "咸阳",
		            "6105" => "渭南",
		            "6106" => "延安",
		            "6107" => "汉中",
		            "6108" => "榆林",
		            "6109" => "安康",
		        ),
		
		    "62" => array  (
		            "6201" => "兰州",
		            "6202" => "嘉峪关",
		            "6203" => "金昌",
		            "6204" => "白银",
		            "6205" => "天水",
		            "6206" => "武威",
		            "6207" => "张掖",
		            "6208" => "平凉",
		            "6209" => "酒泉",
		            "6211" => "定西",
		            "6212" => "陇南",
		            "6229" => "临夏",
		        ),
		
		    "63" => array (
		            "6301" => "西宁",
		            "6321" => "海东",
		            "6322" => "海北",
		            "6323" => "黄南",
		            "6325" => "海南",
		            "6326" => "果洛",
		            "6327" => "玉树",
		            "6328" => "海西",
		        ),
		
		    "64" => array (
		            "6401" => "银川",
		            "6402" => "石嘴山",
		            "6403" => "吴忠",
		            "6404" => "固原",
		            "6405" => "中卫",
		        ),
		
		    "65" => array(
		            "6501" => "乌鲁木齐",
		            "6502" => "克拉玛依",
		            "6521" => "吐鲁番",
		            "6522" => "哈密",
		            "6523" => "昌吉",
		            "6527" => "博尔塔拉",
		            "6528" => "巴音郭楞",
		            "6529" => "阿克苏",
		            "6531" => "喀什",
		            "6532" => "和田",
		            "6542" => "塔城",
		            "6543" => "阿勒泰",
		        ),		
		);

	}
}

